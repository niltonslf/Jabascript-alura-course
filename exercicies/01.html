<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>01</title>
</head>

<body>
    <ul>
        <li class="convidado">
            Nome <span class="nome">Douglas</span>,
            idade <span class="idade">23</span>
        </li>
        <li class="convidado">
            Nome <span class="nome">Daniel</span>,
            idade <span class="idade">42</span>
        </li>
        <li class="convidado">
            Nome <span class="nome">Marcos</span>,
            idade <span class="idade">27</span>
        </li>
        <li class="convidado">
            Nome <span class="nome">Flávio</span>,
            idade <span class="idade">18</span>
        </li>
        <hr>
        Total das idades: <span class="total"></span>
    </ul>

    <script>
        var convidados = criarListaConvidados();
        var totalDasIdades = calcularTotal(convidados);
        setTotal(totalDasIdades);

        /**
         *  Percorre por toda a lista de convidades retornando um array de objetos 
         **/
        function criarListaConvidados() {
            var itens = document.querySelectorAll('.convidado')
            var convidados = []
            for (let i = 0; i < itens.length; i++) {
                const convidado = {
                    nome: itens[i].querySelector('.nome').textContent,
                    idade: itens[i].querySelector('.idade').textContent
                }
                convidados.push(convidado);
            }
            return convidados;
        }



        /**
         *  calcular o total das idades utilizando como base a lista recebida
         */
        function calcularTotal(lista) {
            var totalDasIdades = 0
            for (var i = 0; i < lista.length; i++) {
                var idade = lista[i].idade
                totalDasIdades += parseInt(idade)
            }
            return totalDasIdades
        }
        /**
         * Insere o valor passado para o local reservado para o somatório das idades
         */
        function setTotal(totalDasIdades) {
            document.querySelector('.total').textContent = totalDasIdades;
        }

    </script>
</body>

</html>